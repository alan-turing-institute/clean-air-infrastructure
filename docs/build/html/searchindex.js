Search.setIndex({docnames:["cleanair_rst/cleanair","cleanair_rst/dashboard","cleanair_rst/databases","cleanair_rst/decorators","cleanair_rst/features","cleanair_rst/inputs","cleanair_rst/loggers","cleanair_rst/metrics","cleanair_rst/mixins","cleanair_rst/models","cleanair_rst/parsers","cleanair_rst/processors","cleanair_rst/timestaps","index"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":3,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":2,"sphinx.domains.rst":2,"sphinx.domains.std":1,sphinx:56},filenames:["cleanair_rst/cleanair.rst","cleanair_rst/dashboard.rst","cleanair_rst/databases.rst","cleanair_rst/decorators.rst","cleanair_rst/features.rst","cleanair_rst/inputs.rst","cleanair_rst/loggers.rst","cleanair_rst/metrics.rst","cleanair_rst/mixins.rst","cleanair_rst/models.rst","cleanair_rst/parsers.rst","cleanair_rst/processors.rst","cleanair_rst/timestaps.rst","index.rst"],objects:{"cleanair.databases":{Base:[2,1,1,""],Connector:[2,1,1,""],DBConfig:[2,1,1,""],DBInteractor:[2,1,1,""],DBReader:[2,1,1,""],DBWriter:[2,1,1,""]},"cleanair.databases.Base":{metadata:[2,2,1,""]},"cleanair.databases.Connector":{check_internet_connection:[2,3,1,""],check_schema_exists:[2,3,1,""],engine:[2,3,1,""],ensure_database_exists:[2,3,1,""],ensure_extensions:[2,3,1,""],ensure_schema:[2,3,1,""],initialise_tables:[2,3,1,""],open_session:[2,3,1,""],sessionfactory:[2,3,1,""]},"cleanair.databases.DBConfig":{assign_role_connect:[2,3,1,""],assign_role_schema_default_privilege:[2,3,1,""],assign_role_schema_default_sequences:[2,3,1,""],assign_role_schema_privilege:[2,3,1,""],assign_role_schema_sequences:[2,3,1,""],assign_role_schema_usage:[2,3,1,""],configure_all_roles:[2,3,1,""],create_role:[2,3,1,""],create_schema:[2,3,1,""],create_user:[2,3,1,""],database_name:[2,3,1,""],grant_role_to_user:[2,3,1,""],list_roles:[2,3,1,""],read_config:[2,3,1,""],roles:[2,3,1,""],schema:[2,3,1,""]},"cleanair.databases.DBWriter":{commit_records:[2,3,1,""],update_remote_tables:[2,3,1,""]},"cleanair.decorators":{SuppressStdoutStderr:[3,1,1,""],db_query:[3,4,1,""],robust_api:[3,4,1,""]},"cleanair.features":{OSHighwayFeatures:[4,1,1,""],ScootForecastFeatures:[4,1,1,""],ScootReadingFeatures:[4,1,1,""],StreetCanyonFeatures:[4,1,1,""],UKMapFeatures:[4,1,1,""]},"cleanair.features.OSHighwayFeatures":{features:[4,3,1,""],table:[4,3,1,""]},"cleanair.features.StreetCanyonFeatures":{features:[4,3,1,""],table:[4,3,1,""]},"cleanair.features.UKMapFeatures":{features:[4,3,1,""],table:[4,3,1,""]},"cleanair.inputs":{AQEWriter:[5,1,1,""],LAQNWriter:[5,1,1,""],RectGridWriter:[5,1,1,""],SatelliteWriter:[5,1,1,""],ScootWriter:[5,1,1,""],StaticWriter:[5,1,1,""]},"cleanair.inputs.AQEWriter":{reading_keys:[5,2,1,""],request_site_entries:[5,3,1,""],request_site_readings:[5,3,1,""],update_reading_table:[5,3,1,""],update_remote_tables:[5,3,1,""],update_site_list_table:[5,3,1,""]},"cleanair.inputs.LAQNWriter":{request_site_entries:[5,3,1,""],request_site_readings:[5,3,1,""],update_reading_table:[5,3,1,""],update_remote_tables:[5,3,1,""],update_site_list_table:[5,3,1,""]},"cleanair.inputs.RectGridWriter":{build_cell:[5,3,1,""],update_remote_tables:[5,3,1,""]},"cleanair.inputs.SatelliteWriter":{build_satellite_grid:[5,3,1,""],get_response:[5,3,1,""],grib_to_df:[5,3,1,""],half_grid:[5,2,1,""],n_points_lat:[5,2,1,""],n_points_lon:[5,2,1,""],periods:[5,2,1,""],read_grib_file:[5,3,1,""],request_satellite_data:[5,3,1,""],species:[5,2,1,""],update_interest_points:[5,3,1,""],update_reading_table:[5,3,1,""],update_remote_tables:[5,3,1,""]},"cleanair.inputs.ScootWriter":{aggregate_scoot_data:[5,3,1,""],combine_by_detector_id:[5,3,1,""],get_existing_scoot_data:[5,3,1,""],get_remote_filenames:[5,3,1,""],request_remote_data:[5,3,1,""],request_site_entries:[5,3,1,""],update_remote_tables:[5,3,1,""]},"cleanair.inputs.StaticWriter":{configure_tables:[5,3,1,""],schema_table:[5,3,1,""],update_remote_tables:[5,3,1,""],upload_static_files:[5,3,1,""]},"cleanair.loggers":{bold:[6,4,1,""],duration:[6,4,1,""],duration_from_seconds:[6,4,1,""],get_logger:[6,4,1,""],green:[6,4,1,""],initialise_logging:[6,4,1,""],red:[6,4,1,""]},"cleanair.metrics":{evaluate_model_data:[7,4,1,""],get_metric_methods:[7,4,1,""],measure_scores_by_hour:[7,4,1,""],measure_scores_by_sensor:[7,4,1,""]},"cleanair.mixins":{APIRequestMixin:[8,1,1,""],DBConnectionMixin:[8,1,1,""],DBQueryMixin:[8,1,1,""],DateRangeMixin:[8,1,1,""],DurationParserMixin:[8,1,1,""],SecretFileParserMixin:[8,1,1,""],SourcesMixin:[8,1,1,""],VerbosityMixin:[8,1,1,""]},"cleanair.mixins.APIRequestMixin":{get_available_datetimes:[8,3,1,""],get_readings_by_site:[8,3,1,""],get_response:[8,3,1,""],request_site_readings:[8,3,1,""]},"cleanair.mixins.DBConnectionMixin":{connection_keys:[8,3,1,""],connection_string:[8,3,1,""],load_connection_info:[8,3,1,""],read_environment_password:[8,3,1,""],replace_connection_values:[8,3,1,""]},"cleanair.mixins.DBQueryMixin":{get_aqe_readings:[8,3,1,""],get_available_dynamic_features:[8,3,1,""],get_available_interest_points:[8,3,1,""],get_available_sources:[8,3,1,""],get_available_static_features:[8,3,1,""],get_laqn_readings:[8,3,1,""],get_satellite_readings_pred:[8,3,1,""],get_satellite_readings_training:[8,3,1,""],query_london_boundary:[8,3,1,""]},"cleanair.mixins.DurationParserMixin":{parse_args:[8,3,1,""]},"cleanair.parsers":{AQEReadingArgumentParser:[10,1,1,""],DataBaseRoleParser:[10,1,1,""],DatabaseSetupParser:[10,1,1,""],LAQNReadingArgumentParser:[10,1,1,""],ModelFitParser:[10,1,1,""],ModelValidationParser:[10,1,1,""],OsHighwayFeatureArgumentParser:[10,1,1,""],SatelliteArgumentParser:[10,1,1,""],ScootForecastFeatureArgumentParser:[10,1,1,""],ScootReadingArgumentParser:[10,1,1,""],ScootReadingFeatureArgumentParser:[10,1,1,""],ScootRoadmapArgumentParser:[10,1,1,""],StaticDatasetArgumentParser:[10,1,1,""],StreetCanyonFeatureArgumentParser:[10,1,1,""],UKMapFeatureArgumentParser:[10,1,1,""]},"cleanair.parsers.ModelFitParser":{parse_kwargs:[10,3,1,""]},"cleanair.parsers.SatelliteArgumentParser":{parse_args:[10,3,1,""]},"cleanair.parsers.ScootReadingArgumentParser":{parse_args:[10,3,1,""]},"cleanair.timestamps":{as_datetime:[12,4,1,""],datetime_from_str:[12,4,1,""],datetime_from_unix:[12,4,1,""],to_nearest_hour:[12,4,1,""],unix_from_str:[12,4,1,""],utcstr_from_datetime:[12,4,1,""],utcstr_from_unix:[12,4,1,""]},cleanair:{databases:[2,0,0,"-"],decorators:[3,0,0,"-"],features:[4,0,0,"-"],inputs:[5,0,0,"-"],loggers:[6,0,0,"-"],metrics:[7,0,0,"-"],mixins:[8,0,0,"-"],parsers:[10,0,0,"-"],timestamps:[12,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","attribute","Python attribute"],"3":["py","method","Python method"],"4":["py","function","Python function"]},objtypes:{"0":"py:module","1":"py:class","2":"py:attribute","3":"py:method","4":"py:function"},terms:{"0h24h":5,"25h48h":5,"49h72h":5,"byte":5,"class":[2,3,4,5,8,10],"default":[2,7,8],"function":[3,7,8],"import":5,"new":[2,5],"return":[2,3,4,5,6,7,8],"static":[2,5,8,10],"true":[2,5,7,8],"try":10,"while":8,AQE:[5,8,10],AWS:10,Adding:5,For:7,IDs:5,Lis:2,The:[2,5],Will:5,access:[2,8],across:5,add:5,adding:[8,12],after:3,aggfunc:4,aggreg:5,aggregate_scoot_data:5,air:7,all:[2,3,5,7,8],allow:[2,8],allow_env_pass:8,alreadi:5,also:8,amazon:5,ani:[5,8,10],api:[3,5,8],api_cal:3,api_endpoint:8,api_request_mixin:5,apirequestmixin:[5,8],appropri:6,aqe:8,aqe_sit:5,aqereadingargumentpars:10,aqewrit:5,arg:[2,5,8,10],argpars:10,argument:[8,10],argumentpars:10,around:5,arrai:7,as_datetim:12,assign:2,assign_role_connect:2,assign_role_schema_default_privileg:2,assign_role_schema_default_sequ:2,assign_role_schema_privileg:2,assign_role_schema_sequ:2,assign_role_schema_usag:2,atmospher:5,attempt:5,automodul:[],avail:[5,8],aws:5,aws_kei:5,aws_key_id:5,azur:[2,3,5],base:[2,3,4,5,8,10],basemodelpars:10,batch_siz:4,becom:5,befor:3,between:[3,5,8],bind:2,bold:6,bool:[2,7],bound:8,boundari:8,box:5,bucket:5,build:5,build_cel:5,build_satellite_grid:5,building_height:4,calcul:7,calculated_height_of_build:4,call:3,cams50:5,can:[2,3],cell:5,check:[2,8,10],check_internet_connect:2,check_schema_exist:2,child:8,chunk:5,close:[2,8],collect:5,colleg:5,column:[3,5,7],com:[2,5],combine_by_detector_id:5,commit:2,commit_record:2,common:8,compil:3,comput:7,config:[2,10],config_fil:2,configur:[2,5,10],configure_all_rol:2,configure_t:5,connect:[2,8,10],connection_info:8,connection_kei:8,connection_str:8,connector:2,consist:8,consol:5,contain:[7,8],content:[0,13],context:[2,3],convers:12,convert:[5,10,12],copernicu:[5,10],copernicus_kei:5,core:2,creat:[2,5,8],create_rol:2,create_schema:2,create_us:2,current:5,dai:8,dashboard:13,data:[5,7,8],databas:[3,5,8,10,13],database_nam:2,database_query_mixin:5,databaserolepars:10,databasesetuppars:10,datafil:10,datafram:[5,7],dataset:[5,10],datasourc:5,date:[5,8],date_range_mixin:5,daterangemixin:[5,8],datetim:[7,12],datetime_col:7,datetime_from_str:12,datetime_from_unix:12,db_connection_mixin:2,db_interactor:2,db_queri:3,db_writer:5,dbconfig:2,dbconnectionmixin:[2,8],dbinteractor:2,dbquerymixin:[5,8],dbreader:2,dbwriter:[2,5,8],decor:13,deep:3,defin:2,detail:5,detector:[5,10],detector_id:5,df_read:5,dict:[2,7,8],dictionari:[2,4,7,8],doc:5,docker:8,doe:8,doing:[3,5],download:5,drop:5,duplic:[5,8],durat:[6,8],duration_from_second:6,durationparsermixin:[8,10],dure:7,dynam:[4,8],each:[7,8],either:[2,3,4],els:8,end:[6,8,10],end_dat:[5,8],end_datetim:[5,8],end_tim:6,endpoint:3,engin:2,ensur:[2,5],ensure_database_exist:2,ensure_extens:2,ensure_schema:2,entrypoint:[8,10],environ:8,equal:7,error:[3,7],error_empti:[5,8],evalu:7,evaluate_model_data:7,evaluate_test:7,evaluate_train:7,even:3,everi:7,except:[3,5,8],exclud:8,exist:[2,8],exit:3,experi:7,extens:2,extern:8,extract:4,fail:5,fals:[2,4,5,8,12],fault:5,featur:[8,10,13],feature_dict:4,feature_extractor:4,featureextractor:4,field:10,file:[2,5,8,10],filecont:5,first:[3,8],fit:[7,10],flag:10,follow:5,forecast:[4,5,8,10],fortran:3,from:[2,5,6,7,8,10],geometri:[5,8],get:[5,6,7,8],get_aqe_read:8,get_available_datetim:8,get_available_dynamic_featur:8,get_available_interest_point:8,get_available_sourc:8,get_available_static_featur:8,get_existing_scoot_data:5,get_laqn_read:8,get_logg:6,get_metric_method:7,get_readings_by_sit:8,get_remote_filenam:5,get_respons:[5,8],get_satellite_readings_pr:8,get_satellite_readings_train:8,give:2,given:[5,7],googl:2,gov:5,grant_role_to_us:2,green:6,grib:5,grib_to_df:5,grid:5,group:7,groupby_col:7,guide_numerical_data_cams_new:5,half_grid:5,has:3,have:[5,7,10],here:8,highwai:10,hour:[5,7,8,12],hourli:5,http:[2,5],human:6,ids:7,ignor:2,includ:8,index:[5,7,13],info:[5,8],inform:10,inherit:8,initialis:6,initialise_log:6,initialise_t:2,input:[12,13],input_datetim:12,input_df:5,insert:[2,5,10],instal:2,instanc:[4,7],interact:[2,3,5,8],interest:[5,8],internet:2,interv:2,invalid:8,its:8,json:[8,10],just:3,kei:[5,7,8,10],kind:4,king:5,known:5,kwarg:[2,3,4,5,7,8,10],kwd:2,laqn:[5,8,10],laqn_sit:5,laqnreadingargumentpars:10,laqnwrit:5,lasthour:[8,10],later:12,latitud:5,least:3,length:7,let:3,level:2,limit:[5,8],list:[2,3,5,7,8],list_rol:2,live:5,load:[5,8,10],load_connection_info:8,local:10,localis:12,locat:2,log:6,logger:13,login:8,london:[5,8],londonair:5,londonboundari:8,longitud:5,made:[3,7],mae:7,maintain:5,make:[3,5,6],manag:[2,3,5,8],map:10,match:[7,8],max_:4,maximum:3,maybe_dt:12,mean:7,measur:[5,7],measure_scores_by_hour:7,measure_scores_by_sensor:7,measurement_start_utc:7,measurementendutc:5,measurementstartutc:5,member:[],metadata:2,method:7,metric:13,metric_method:7,might:12,minut:12,mixin:[2,5,10,13],model:[4,7,10,13],model_data:7,modeldata:7,modelfitpars:10,modelvalidationpars:10,modul:13,most:2,mse:7,multipl:[3,5],must:[2,7,8],n_points_lat:5,n_points_lon:5,n_repeat:[3,5],naiv:12,naive_str:12,name:[2,6,7],namespac:[8,10],nearest:12,need:8,network:5,nhour:[8,10],no2:[5,7],no2_mean:7,none:[2,4,5,8,10],number:[3,6],numpi:7,object:[2,3,7,8],observ:7,obtain:8,on_conflict:2,one:12,onli:8,open:5,open_sess:2,option:[2,7],org:5,origin:3,orm:2,oshighwai:4,oshighwayfeatur:4,oshighwayfeatureargumentpars:10,other:7,output_typ:[3,5,8],outsid:8,over:7,overcom:3,overwrit:[2,10],packag:13,page:13,panda:5,param:8,paramet:[2,5,7,8],pars:10,parse_arg:[8,10],parse_kwarg:10,parser:[8,13],parser_mixin:10,pass:10,password:2,pdf:5,period:[5,7,8],pgpassword:8,pm10:5,pm25:5,point:[5,7,8],point_id:[7,8],pollut:5,possibl:5,postgr:[2,3],pred_col:7,pred_df:7,predict:[7,8],primari:5,print:3,privileg:2,process:[4,6],processor:13,properti:[2,4,5,8],provid:[2,8],publicli:2,python:3,qualiti:7,queri:[3,5,8],query_f:3,query_london_boundari:8,question:5,r2_score:7,rais:[3,5,7,8],rang:[5,8],rather:2,read:[2,4,5,8,10],read_config:2,read_environment_password:8,read_grib_fil:5,readabl:6,reading_kei:5,record:2,rectangular:5,rectgrid:5,rectgridwrit:5,red:6,ref:[],refer:8,reference_start_utc:8,region:5,relev:[2,5],remot:[2,5],remov:[5,8],repeat:2,replac:8,replace_connection_valu:8,request:[2,5,8],request_remote_data:5,request_satellite_data:5,request_site_entri:5,request_site_read:[5,8],requir:[2,5],respons:[5,8],retriev:10,road:10,robust_api:3,role:[2,10],role_nam:2,round:12,row:5,same:[3,7,8],satellit:[5,8,10],satellite_boxes_df:5,satellite_byt:5,satelliteargumentpars:10,satellitewrit:5,schema:[2,5],schema_nam:2,schema_t:5,scoot:[4,5,10],scoot_featur:4,scootfeaturesbas:4,scootforecastfeatur:4,scootforecastfeatureargumentpars:10,scootreadingargumentpars:10,scootreadingfeatur:4,scootreadingfeatureargumentpars:10,scootroadmapargumentpars:10,scootwrit:5,score:7,script:3,search:13,second:[2,3,6],secret:[8,10],secret_dict:[2,8],secret_fil:8,secretfil:[2,8],secretfileparsermixin:[8,10],see:7,self:2,sensor:[5,7],sensor_scores_df:7,sequenc:2,seri:7,server:3,servic:5,session:2,sessionfactori:2,set:[5,7,8],sever:5,shape:7,should:5,show:[],sinc:3,site:[5,8],site_cod:[5,8],site_list_queri:8,sitecod:5,size:7,skip:2,sleep:3,sleep_tim:[3,5],slice:7,some:5,sourc:[4,8,10],sourcesmixin:[8,10],speci:5,speciescod:5,sql:4,sqlalchemi:[2,3],squar:7,start:6,start_dat:[5,8],start_datetim:[5,8],start_tim:6,staticdatasetargumentpars:10,staticwrit:5,stderr:3,stdout:3,str:[2,7],streetcanyon:4,streetcanyonfeatur:4,streetcanyonfeatureargumentpars:10,string:[7,8,12],sub:3,subqueri:[2,3,4],success:5,suppress:3,suppressstdoutstderr:3,surfac:5,system:8,tabl:[2,4,5],take:[5,7],target_fil:5,temporal_scores_df:7,test:7,test_col:7,text:6,tfl:5,than:2,thei:2,therebi:2,thi:[3,6,7],think:3,those:8,through:3,tidi:5,time:[3,5,6,7,8],timedelta:12,timeout:[2,8],timestamp:13,timezon:12,to_nearest_hour:12,traffic:5,train:[7,8],truncat:12,two:7,type:[2,4,5,7,8],ukmap:4,ukmapfeatur:4,ukmapfeatureargumentpars:10,undoc:[],unit:5,unix:12,unix_from_str:12,unknown:5,unnecessari:5,updat:[2,5,7],update_interest_point:5,update_reading_t:5,update_remote_t:[2,5],update_site_list_t:5,upload:[5,10],upload_static_fil:5,url:2,use:7,usecor:5,used:2,user:2,usernam:2,using:2,utc:[5,12],utcstr_from_datetim:12,utcstr_from_unix:12,valid:[7,8,10],valu:[4,7,8],valueerror:7,variabl:8,verbos:[6,8],verbositymixin:[8,10],via:5,where:[5,7,8],whether:[7,10],which:[2,8],whole:7,why:3,within:2,withing:8,wrapper:3,write:2,www:[2,5]},titles:["cleanair package","cleanair.dashboard module","cleanair.databases module","cleanair.decorators module","cleanair.features module","cleanair.inputs module","cleanair.loggers module","cleanair.metrics module","cleanair.mixins module","cleanair.models module","cleanair.parsers module","cleanair.processors module","cleanair.timestamps module","Welcome to cleanair\u2019s documentation!"],titleterms:{cleanair:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],dashboard:[0,1],databas:[0,2],decor:[0,3],document:13,featur:[0,4],indic:13,input:[0,5],logger:[0,6],metric:[0,7],mixin:[0,8],model:[0,9],modul:[0,1,2,3,4,5,6,7,8,9,10,11,12],packag:0,parser:[0,10],processor:[0,11],tabl:13,timestamp:[0,12],welcom:13}})